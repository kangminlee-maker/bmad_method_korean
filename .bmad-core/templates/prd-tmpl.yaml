template:
  id: prd-template-v2
  name: 제품 요구사항 문서
  version: 2.0
  output:
    format: markdown
    filename: docs/prd.md
    title: "{{project_name}} 제품 요구사항 문서 (PRD)"

workflow:
  mode: interactive
  elicitation: advanced-elicitation

sections:
  - id: goals-context
    title: 목표 및 배경 맥락
    instruction: |
      프로젝트 개요 문서가 있는지 확인하십시오. 프로젝트 개요가 없다면, 먼저 project-brief-tmpl을 사용하여 생성할 것을 강력히 권합니다 (필수 기반을 제공합니다: 문제 진술, 대상 사용자, 성공 지표, MVP 범위, 제약조건). 사용자가 개요 없이 PRD를 고집한다면, 목표 섹션에서 이 정보를 수집하십시오. 프로젝트 개요가 있다면, 검토하고 이를 사용하여 목표(원하는 결과의 불렛 목록)와 배경 맥락(이것이 무엇을 해결하고 왜 해결하는지에 대한 1-2개 단락)을 채워서 PRD MVP 범위에 포함되거나 포함되지 않을 것을 결정할 수 있도록 합니다. 어느 쪽이든 요구사항을 결정하는 데 중요합니다. 변경 로그 테이블을 포함하십시오.
    sections:
      - id: goals
        title: 목표
        type: bullet-list
        instruction: PRD가 성공하면 제공할 1줄 원하는 결과의 불렛 목록 - 사용자와 프로젝트 욕구
      - id: background
        title: 배경 맥락
        type: paragraphs
        instruction: 목표와 중복되지 않도록 개요에서 배운 것, 무엇을 왜 문제를 해결하는지, 현재 환경이나 필요가 무엇인지와 같은 배경 맥락을 요약하는 1-2개의 짧은 단락
      - id: changelog
        title: 변경 로그
        type: table
        columns: [날짜, 버전, 설명, 작성자]
        instruction: 문서 버전과 변경사항 추적

  - id: requirements
    title: 요구사항
    instruction: 두 하위 섹션 아래에 기능적 및 비기능적 요구사항 목록 초안 작성
    elicit: true
    sections:
      - id: functional
        title: 기능적 요구사항
        type: numbered-list
        prefix: FR
        instruction: 각 요구사항은 불렛 마크다운과 FR로 시작하는 식별자 시퀀스가 될 것입니다
        examples:
          - "FR6: 할 일 목록은 AI를 사용하여 다르게 표현된 잠재적으로 중복된 할 일 항목을 감지하고 경고합니다."
      - id: non-functional
        title: 비기능적 요구사항
        type: numbered-list
        prefix: NFR
        instruction: 각 요구사항은 불렛 마크다운과 NFR로 시작하는 식별자 시퀀스가 될 것입니다
        examples:
          - "NFR1: AWS 서비스 사용은 가능한 경우 무료 계층 한도 내에서 유지하는 것을 목표로 해야 합니다."

  - id: ui-goals
    title: 사용자 인터페이스 설계 목표
    condition: PRD가 UX/UI 요구사항을 가짐
    instruction: |
      설계 아키텍트를 안내하고 스토리 생성을 알리기 위한 고수준 UI/UX 비전을 포착합니다. 단계:
      
      1. 프로젝트 맥락을 기반으로 한 교육받은 추측으로 모든 하위 섹션을 미리 채웁니다
      2. 완성된 렌더링된 섹션을 사용자에게 제시합니다
      3. 가정이 내려진 곳을 사용자에게 명확히 알립니다
      4. 불분명하거나 누락된 요소 또는 더 많은 사양이 필요한 영역에 대해 대상화된 질문을 합니다
      5. 이것은 상세한 UI 사양이 아닙니다 - 제품 비전과 사용자 목표에 집중하십시오
    elicit: true
    choices:
      accessibility: [없음, WCAG AA, WCAG AAA]
      platforms: [웹 반응형, 모바일만, 데스크톱만, 크로스 플랫폼]
    sections:
      - id: ux-vision
        title: 전반적인 UX 비전
      - id: interaction-paradigms
        title: 주요 상호작용 패러다임
      - id: core-screens
        title: 핵심 화면 및 뷰
        instruction: 제품 관점에서 PRD 가치와 목표를 제공하는 데 필요한 가장 중요한 화면이나 뷰는 무엇입니까? 이는 대략적인 에픽이나 사용자 스토리를 추진하기 위한 개념적 고수준이 되도록 의도됩니다
        examples:
          - "로그인 화면"
          - "메인 대시보드"
          - "항목 세부 페이지"
          - "설정 페이지"
      - id: accessibility
        title: "접근성: {없음|WCAG AA|WCAG AAA|사용자 정의 요구사항}"
      - id: branding
        title: 브랜딩
        instruction: 통합되어야 하는 알려진 브랜딩 요소나 스타일 가이드가 있습니까?
        examples:
          - "1900년대 초 흑백 영화의 모양과 느낌을 복제하며, 페이지나 상태 전환 중 필름 손상이나 프로젝터 결함을 복제하는 애니메이션 효과를 포함합니다."
          - "우리 기업 브랜딩을 위한 전체 색상 팔레트와 토큰이 첨부되어 있습니다."
      - id: target-platforms
        title: "대상 장치 및 플랫폼: {웹 반응형|모바일만|데스크톱만|크로스 플랫폼}"
        examples:
          - "웹 반응형, 그리고 모든 모바일 플랫폼"
          - "iPhone만"
          - "ASCII 윈도우 데스크톱"

  - id: technical-assumptions
    title: 기술적 가정
    instruction: |
      아키텍트를 안내할 기술적 결정을 수집합니다. 단계:
      
      1. .bmad-core/data/technical-preferences.yaml 또는 첨부된 technical-preferences 파일이 있는지 확인 - 선택 사항을 미리 채우는 데 사용
      2. 사용자에게 다음에 대해 묻기: 언어, 프레임워크, 스타터 템플릿, 라이브러리, API, 배포 대상
      3. 알 수 없는 것에 대해서는 프로젝트 목표와 MVP 범위를 기반으로 한 안내 제공
      4. 근거와 함께 모든 기술적 선택 문서화 (이 선택이 프로젝트에 맞는 이유)
      5. 이것들은 아키텍트를 위한 제약이 됩니다 - 구체적이고 완전하게 하십시오
    elicit: true
    choices:
      repository: [모노레포, 폴리레포]
      architecture: [모놀리스, 마이크로서비스, 서버리스]
      testing: [단위 테스트만, 단위 + 통합, 전체 테스트 피라미드]
    sections:
      - id: repository-structure
        title: "저장소 구조: {모노레포|폴리레포|멀티레포}"
      - id: service-architecture
        title: 서비스 아키텍처
        instruction: "중요한 결정 - 고수준 서비스 아키텍처를 문서화하십시오 (예: 모놀리스, 마이크로서비스, 모노레포 내 서버리스 함수)."
      - id: testing-requirements
        title: 테스트 요구사항
        instruction: "중요한 결정 - 테스트 요구사항을 문서화하십시오, 단위만, 통합, e2e, 수동, 수동 테스트 편의 방법의 필요성)."
      - id: additional-assumptions
        title: 추가 기술적 가정 및 요청
        instruction: 이 문서를 초안 작성하는 전체 과정에서 아키텍트에게 적절한 다른 기술적 가정이 제기되거나 발견되면 여기에 추가적인 불렛 항목으로 추가하십시오

  - id: epic-list
    title: 에픽 목록
    instruction: |
      사용자 승인을 위한 모든 에픽의 고수준 목록을 제시합니다. 각 에픽은 제목과 짧은 (1문장) 목표 진술을 가져야 합니다. 이를 통해 사용자가 세부사항에 들어가기 전에 전체 구조를 검토할 수 있습니다.
      
      중요: 에픽은 애자일 모범 사례를 따라 논리적으로 순차적이어야 합니다:
      
      - 각 에픽은 중요하고 종단간이며 완전히 배포 가능한 테스트 가능한 기능의 증분을 제공해야 합니다
      - 에픽 1은 기존 앱에 새로운 기능을 추가하는 경우가 아닌 한 기초적인 프로젝트 인프라(앱 설정, Git, CI/CD, 핵심 서비스)를 구축해야 하며, 동시에 헬스체크 경로나 간단한 카나리 페이지 표시와 같이 간단한 초기 기능도 제공해야 합니다 - 첫 번째 에픽의 스토리를 작성할 때 이를 기억하십시오!
      - 각 후속 에픽은 배포될 때 사용자나 비즈니스에 유형의 가치를 제공하는 주요 기능 블록을 제공하여 이전 에픽의 기능을 기반으로 합니다
      - 모든 프로젝트가 여러 에픽이 필요한 것은 아닙니다. 에픽은 가치를 제공해야 합니다. 예를 들어, UI가 완료되지 않고 별도의 에픽으로 계획된 경우에도 완료된 API는 가치를 제공할 수 있습니다.
      - 더 적은 에픽 쪽으로 실수하되, 사용자에게 근거를 알리고 일부가 너무 크거나 서로 다른 것에 집중하는 것 같으면 분할하는 옵션을 제공하십시오.
      - 교차 절단 관심사는 에픽과 스토리를 통해 흘러야 하며 최종 스토리가 되어서는 안 됩니다. 예를 들어, 에픽의 마지막 스토리로 로깅 프레임워크를 추가하거나 프로젝트 끝에 최종 에픽이나 스토리로 추가하는 것은 처음부터 로깅이 없기 때문에 끔찍할 것입니다.
    elicit: true
    examples:
      - "에픽 1: 기초 및 핵심 인프라: 프로젝트 설정, 인증, 기본 사용자 관리 구축"
      - "에픽 2: 핵심 비즈니스 엔티티: CRUD 작업으로 주요 도메인 객체 생성 및 관리"
      - "에픽 3: 사용자 워크플로우 및 상호작용: 주요 사용자 여정과 비즈니스 프로세스 활성화"
      - "에픽 4: 보고 및 분석: 사용자를 위한 통찰력과 데이터 시각화 제공"

  - id: epic-details
    title: 에픽 {{epic_number}} {{epic_title}}
    repeatable: true
    instruction: |
      에픽 목록이 승인된 후, 각 에픽을 모든 스토리와 승인 기준과 함께 완전한 검토 단위로 제시합니다.
      
      각 에픽에 대해 확장된 목표(모든 스토리가 달성할 목적과 가치를 설명하는 2-3문장)를 제공합니다.
      
      중요한 스토리 시퀀싱 요구사항:
      
      - 각 에픽 내의 스토리는 논리적으로 순차적이어야 합니다
      - 각 스토리는 프로젝트 기초를 위한 초기 활성화 스토리를 제외하고 완전한 기능을 제공하는 "수직 슬라이스"여야 합니다
      - 어떤 스토리도 나중 스토리나 에픽의 작업에 의존해서는 안 됩니다
      - 직접적인 전제 조건 스토리를 식별하고 주목하십시오
      - "무엇"과 "왜"에 집중하고 "어떻게"는 아님 (기술적 구현은 아키텍트에게 맡김) 그러나 스토리에서 스토리로의 논리적 순차 작업 순서를 지원할 수 있을 만큼 정밀해야 합니다.
      - 각 스토리가 명확한 사용자나 비즈니스 가치를 제공하도록 하고, 활성화를 피하고 가치를 제공하는 스토리에 구축하려고 노력하십시오.
      - AI 에이전트 실행을 위한 스토리 크기: 각 스토리는 컨텍스트 오버플로우 없이 단일 AI 에이전트가 한 번의 집중 세션에서 완료할 수 있어야 합니다
      - "주니어 개발자가 2-4시간 동안 작업"을 생각하십시오 - 스토리는 작고 집중되며 자립적이어야 합니다
      - 스토리가 복잡해 보이면 수직 슬라이스를 제공할 수 있는 한 더 분해하십시오
    elicit: true
    template: "{{epic_goal}}"
    sections:
      - id: story
        title: 스토리 {{epic_number}}.{{story_number}} {{story_title}}
        repeatable: true
        template: |
          {{user_type}}로서,
          나는 {{action}}를 원합니다,
          {{benefit}}를 위해서.
        sections:
          - id: acceptance-criteria
            title: 승인 기준
            type: numbered-list
            item_template: "{{criterion_number}}: {{criteria}}"
            repeatable: true
            instruction: |
              다음과 같은 명확하고 포괄적이며 테스트 가능한 승인 기준을 정의하십시오:
              
              - 기능적 관점에서 "완료"가 무엇을 의미하는지 정확히 정의
              - 모호하지 않고 검증의 기초로 사용됨
              - PRD의 중요한 비기능적 요구사항 포함
              - 백엔드/데이터 구성 요소에 대한 로컬 테스트 가능성 고려
              - 해당하는 경우 UI/UX 요구사항과 프레임워크 준수 지정
              - 다른 스토리나 PRD 섹션에 있어야 하는 교차 절단 관심사 피하기

  - id: checklist-results
    title: 체크리스트 결과 보고서
    instruction: 체크리스트를 실행하고 프롬프트를 초안 작성하기 전에, 전체 업데이트된 PRD를 출력할 것을 제안하십시오. 출력한다면, 체크리스트를 실행하고 보고서를 작성하여 진행할 것임을 사용자에게 확인하십시오. 사용자가 확인하면, pm-checklist를 실행하고 이 섹션에 결과를 채우십시오.

  - id: next-steps
    title: 다음 단계
    sections:
      - id: ux-expert-prompt
        title: UX 전문가 프롬프트
        instruction: 이 섹션은 UX 전문가를 위한 프롬프트를 포함할 것입니다. 이 문서를 입력으로 사용하여 아키텍처 생성 모드를 시작하도록 짧고 요점을 명확히 유지하십시오.
      - id: architect-prompt
        title: 아키텍트 프롬프트
        instruction: 이 섹션은 아키텍트를 위한 프롬프트를 포함할 것입니다. 이 문서를 입력으로 사용하여 아키텍처 생성 모드를 시작하도록 짧고 요점을 명확히 유지하십시오.
